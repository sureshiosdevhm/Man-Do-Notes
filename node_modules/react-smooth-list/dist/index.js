function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var React = require('react');
var React__default = _interopDefault(React);

var SmoothList = function SmoothList(props) {
  var _props$animated;

  var _useState = React.useState(0),
      maxIsVisible = _useState[0],
      setMaxIsVisible = _useState[1];

  var delay = props.delay || 50,
      animated = (_props$animated = props.animated) != null ? _props$animated : true,
      transitionDuration = props.transitionDuration || 400,
      visible = typeof props.visible === "undefined" ? true : props.visible,
      WrapperTag = props.wrapperTag || "div",
      ChildTag = props.childTag || "div";
  React.useEffect(function () {
    var count = React__default.Children.count(props.children);

    if (!visible) {
      count = 0;
    }

    if (count == maxIsVisible) {
      var _timeout = setTimeout(function () {
        if (props.onComplete) props.onComplete();
      }, transitionDuration);

      return function () {
        return clearTimeout(_timeout);
      };
    }

    var increment = count > maxIsVisible ? 1 : -1;
    var timeout = setTimeout(function () {
      setMaxIsVisible(maxIsVisible + increment);
    }, delay);
    return function () {
      return clearTimeout(timeout);
    };
  }, [React__default.Children.count(props.children), delay, maxIsVisible, visible, transitionDuration]);
  return React__default.createElement(WrapperTag, {
    className: props.className
  }, animated ? React__default.Children.map(props.children, function (child, i) {
    return React__default.createElement(ChildTag, {
      className: props.childClassName,
      style: {
        transition: "opacity " + transitionDuration + "ms, transform " + transitionDuration + "ms",
        transform: maxIsVisible > i ? "none" : "translateY(20px)",
        opacity: maxIsVisible > i ? 1 : 0
      }
    }, child);
  }) : props.children);
};

module.exports = SmoothList;
//# sourceMappingURL=index.js.map
